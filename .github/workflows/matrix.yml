---
name: matrix-sample
on:
  push:
  workflow_dispatch:

jobs:
  matrix-job:
    strategy:
      matrix:
        version: [10, 12, 14]
    runs-on: ubuntu-latest
    steps:
      - name: setup
        run: |
          echo "${{ matrix.version }}"        

  build-job-A:
    runs-on: ubuntu-latest
    steps:
      - name: setup
        run: |
          echo "setup done"

      - name: build
        run: |
          echo "build done"

      - name: deploy
        run: |
          echo "deploy done"

  build-job-B:
    runs-on: ubuntu-latest
    needs: build-job-A
    steps:
      - name: setup
        run: |
          echo "setup done"

      - name: build
        run: |
          echo "build done"

      - name: deploy
        run: |
          echo "deploy done"