---
name: matrix-sample
on:
  push:
  workflow_dispatch:

jobs:
  build-job-A:
    runs-on: ubuntu-latest
    steps:
      - name: setup
        run: |
          echo "setup done"

      - name: build
        run: |
          echo "build done"

      - name: deploy
        run: |
          echo "deploy done"
          exit 1

  build-job-B:
    runs-on: ubuntu-latest
    needs: build-job-A
    steps:
      - name: setup
        run: |
          echo "setup done"

      - name: build
        run: |
          echo "build done"

      - name: deploy
        run: |
          echo "deploy done"